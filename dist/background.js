(()=>{let e=null,t=e=>{chrome.scripting.executeScript({target:{tabId:e},world:"MAIN",func:(...e)=>{let t="dom_shot_chrome_extension";window[t]=window[t]||{},window[t].args=e||[]},args:[e]}).then(()=>{chrome.scripting.executeScript({target:{tabId:e},world:"MAIN",files:["./helper.js"]})})};chrome.tabs.onUpdated.addListener((r,o,i)=>{"complete"===o.status&&i.url&&(clearTimeout(e),e=setTimeout(()=>{t(r)},100))}),chrome.runtime.onInstalled.addListener(()=>{chrome.declarativeNetRequest.updateDynamicRules({addRules:[{id:1,priority:1,action:{type:"modifyHeaders",responseHeaders:[{header:"Access-Control-Allow-Origin",operation:"set",value:"*"}]},condition:{resourceTypes:["image"],urlFilter:"*"}}],removeRuleIds:[1]})})})();
//# sourceMappingURL=background.js.map
